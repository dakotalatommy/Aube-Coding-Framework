const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/driver-D6Mpyj2M.js","assets/driver-DB0Q8XAf.css"])))=>i.map(i=>d[i]);
import{_ as G}from"./react-vendor--lxKGBiW.js";import{a as T,b as V,g as z}from"./index-Bk3Do8do.js";import"./driver-D6Mpyj2M.js";const v={quickstartVision:"bvx_done_vision",quickstartContacts:"bvx_done_contacts",quickstartPlan:"bvx_done_plan",quickstartCompleted:"bvx_quickstart_completed",welcomeSeen:"bvx_welcome_seen",guideDone:"bvx_guide_done",billingDismissed:"bvx_billing_dismissed",onboardingDone:"bvx_onboarding_done",bookingNudge:"bvx_booking_nudge",tenant:"bvx_tenant",trialStartedAt:"bvx_trial_started_at"},_={introSession:"bvx_intro_session"},p={getLocal(e){try{return localStorage.getItem(e)}catch{return null}},setLocal(e,o){try{o===null?localStorage.removeItem(e):localStorage.setItem(e,o)}catch{}},removeLocal(e){try{localStorage.removeItem(e)}catch{}},getSession(e){try{return sessionStorage.getItem(e)}catch{return null}},setSession(e,o){try{o===null?sessionStorage.removeItem(e):sessionStorage.setItem(e,o)}catch{}},removeSession(e){try{sessionStorage.removeItem(e)}catch{}}},Y={keys:{...v,..._},getGuideDone(){return p.getLocal(v.guideDone)==="1"},setGuideDone(e){p.setLocal(v.guideDone,e?"1":null)},markWelcomeSeen(){p.setLocal(v.welcomeSeen,"1"),p.setSession(_.introSession,"1")},hasSeenWelcome(){const e=p.getLocal(v.welcomeSeen)==="1",o=p.getSession(_.introSession)==="1";return e||o},clearWelcome(){p.removeLocal(v.welcomeSeen),p.removeSession(_.introSession)},clearQuickstart(){p.removeLocal(v.quickstartVision),p.removeLocal(v.quickstartContacts),p.removeLocal(v.quickstartPlan),p.removeLocal(v.quickstartCompleted)},clearBillingDismissed(){p.removeLocal(v.billingDismissed)},setBillingDismissed(){p.setLocal(v.billingDismissed,"1")},isBillingDismissed(){return p.getLocal(v.billingDismissed)==="1"},clearBookingNudge(){p.removeLocal(v.bookingNudge)},async forceReset(e={}){const o=e.keepTenant?p.getLocal(v.tenant):null;if(this.clearQuickstart(),this.clearWelcome(),this.clearBillingDismissed(),p.removeLocal(v.onboardingDone),p.removeLocal(v.trialStartedAt),p.removeLocal(v.guideDone),p.removeLocal(v.bookingNudge),p.removeSession(_.introSession),e.keepTenant&&o&&p.setLocal(v.tenant,o),e.resetServerFlags)try{await e.resetServerFlags()}catch(r){console.error("workspaceStorage.forceReset server reset failed",r)}}},K="/assets/IMG_7577-Cv7o9iIk.jpeg",F=12,P="bvx_founder_form_cache";let L=null;const M=()=>{try{const e=localStorage.getItem(P);if(!e)return{email:"",phone:""};const o=JSON.parse(e);return{email:typeof o?.email=="string"?o.email:"",phone:typeof o?.phone=="string"?o.phone:""}}catch{return{email:"",phone:""}}},H=e=>{try{localStorage.setItem(P,JSON.stringify(e))}catch{}},J=()=>{try{localStorage.removeItem(P)}catch{}},Z=e=>e.replace(/[^0-9+\s().-]/g,""),O=()=>{const e=document.querySelector(".driver-popover");return e?{popover:e,emailInput:e.querySelector("[data-founder-email]"),phoneInput:e.querySelector("[data-founder-phone]"),emailError:e.querySelector("[data-founder-email-error]"),phoneError:e.querySelector("[data-founder-phone-error]"),nextButton:e.querySelector('[data-action="next"]'),previousButton:e.querySelector('[data-action="previous"]')}:null},E=(e={})=>{const o=O(),r={valid:!0,state:M()};if(!o)return r;const{emailInput:n,phoneInput:s,emailError:l,phoneError:d,nextButton:b}=o,y=(n?.value||"").trim().toLowerCase(),h=(s?.value||"").trim(),u=Z(h);s&&s.value!==u&&(s.value=u);const g=u.replace(/[^0-9]/g,""),f=!y||/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/i.test(y),x=!u||g.length>=7&&g.length<=15,t=f&&x;l&&(!f&&e.showErrors?l.classList.remove("hidden"):l.classList.add("hidden")),d&&(!x&&e.showErrors?d.classList.remove("hidden"):d.classList.add("hidden")),b&&(b.disabled=!t);const i={email:y,phone:u};return H(i),{valid:t,state:i}},X=()=>{if(!L)return;const{emailInput:e,phoneInput:o,changeHandler:r,nextButton:n,nextHandler:s}=L;if(e&&r&&(e.removeEventListener("input",r),e.removeEventListener("blur",r)),o&&r&&(o.removeEventListener("input",r),o.removeEventListener("blur",r)),n&&s){n.removeEventListener("click",s,!0);try{delete n.dataset.bvxFounderBound}catch{}}L=null},Q=()=>{const e=O();if(!e||!e.nextButton)return;const{emailInput:o,phoneInput:r,nextButton:n}=e;X();const s=M();o&&(o.value=s.email),r&&(r.value=s.phone);const l=()=>{E({showErrors:!1})};o&&(o.addEventListener("input",l),o.addEventListener("blur",l)),r&&(r.addEventListener("input",l),r.addEventListener("blur",l));const d=b=>{const{valid:y}=E({showErrors:!0});y||(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation?.())};n.dataset.bvxFounderBound||(n.addEventListener("click",d,!0),n.dataset.bvxFounderBound="1"),E({showErrors:!1}),L={emailInput:o||void 0,phoneInput:r||void 0,changeHandler:l,nextButton:n,nextHandler:d}},R=async(e,o)=>{try{H(e);const r=e.email.trim().toLowerCase(),n=e.phone.replace(/[^0-9+]/g,"");if(!r&&!n)return;const s=await z().catch(()=>"")||localStorage.getItem("bvx_tenant")||"";if(!s)return;await T.post("/onboarding/founder/contact",{tenant_id:s,email:r||void 0,phone:n||void 0,finalize:o?!0:void 0})}catch(r){console.error("founder contact submission failed",r)}},I=[{title:"A brief note from Dakota",html:"<p>Hi! My name is Dakota LaTommy and I created this platform for beauty professionals like <strong>you</strong>. In a world that underestimates your ability, hustle, and drive, I wanted to design something that lets you know I see you.</p>"},{title:"Our tribe",html:`<p>From my girlfriend Rachel to my business partner Jaydn, I have deep connections with the beauty industry. You are hustlers, business-savvy <strong>artists</strong>, but the mounting pressure to survive has stripped the joy from a craft you once loved.</p><div class="mt-3 flex justify-center"><img src="${K}" alt="Dakota and Rachel" style="width:128px;height:128px;border-radius:16px;object-fit:cover;box-shadow:0 8px 20px rgba(15,23,42,0.18);"/></div>`},{title:"Why brandVX exists",html:"<p>brandVX is designed to help you optimize your business, save time, and generate more revenue. It grows with you — as a CEO, brand, salesperson, content-creator, and <strong>person</strong> — by accelerating every aspect of your passion. We are in open beta with 1,000 users and will keep shipping new features weekly. If you need anything, email <strong>support@aubecreativelabs.com</strong>.</p>"},{title:"Let's stay in touch",html:`<p>I appreciate you trying brandVX and would love any feedback. Drop your contact info below and I will personally reach out to thank you. Go be great!</p><div class="mt-3 grid gap-2">
+  <label class="grid gap-1 text-sm">
+    <span class="text-xs uppercase tracking-wide text-slate-500">Email</span>
+    <input type="email" data-founder-email class="rounded-xl border border-slate-200 px-3 py-2 text-sm" placeholder="you@example.com"/>
+    <div class="text-[11px] text-rose-600 hidden" data-founder-email-error>Enter a valid email or leave blank.</div>
+  </label>
+  <label class="grid gap-1 text-sm">
+    <span class="text-xs uppercase tracking-wide text-slate-500">Phone</span>
+    <input type="tel" data-founder-phone class="rounded-xl border border-slate-200 px-3 py-2 text-sm" placeholder="(555) 555-5555"/>
+    <div class="text-[11px] text-rose-600 hidden" data-founder-phone-error>Use 7–15 digits (numbers, spaces, dashes, + allowed) or leave blank.</div>
+  </label>
+  <div class="text-[11px] text-slate-500">Optional — share either email or phone if you'd like me to follow up.</div>
+</div>`}],D={workspace_intro:[{element:'[data-tour="nav-dashboard"]',popover:{title:"Dashboard",description:"Check your most important metrics, know the next best steps to take, and see the priority action to take today."}},{element:'[data-tour="nav-askvx"]',popover:{title:"askVX",description:"Ask general — ask any question about branding, marketing, or the beauty industry. You can also train brandVX on how you run your business."}},{element:'[data-tour="nav-vision"]',popover:{title:"brandVZN",description:"The easiest professional photo editor you've ever used. Showcase different looks and make basic photo edits with ease."}},{element:'[data-tour="nav-messages"]',popover:{title:"Messages",description:"Draft messages in your brand's voice for clients in bulk. Currently supports creation; text sending support is coming soon."}},{element:'[data-tour="nav-contacts"]',popover:{title:"Clients",description:"Search your clients to view their individual information, and send quick messages."}},{element:'[data-tour="nav-calendar"]',popover:{title:"Calendar",description:"View all of your appointments and important events across your booking and Google Calendar."}},{element:'[data-tour="nav-cadences"]',popover:{title:"Follow‑ups",description:"Easily follow up with who you need to, when you need to, so you don't miss any clients ever again."}},{element:'[data-tour="nav-inventory"]',popover:{title:"Inventory",description:"Connect your inventory for basic management. Inventory is in beta; we'll expand this feature soon."}},{element:'[data-tour="nav-approvals"]',popover:{title:"To‑Do",description:"See all of your notifications, follow‑ups, and anything that needs your approval in brandVX."}},{element:'[data-tour="nav-integrations"]',popover:{title:"Settings",description:"Manage your brandVX settings."}},{element:'[data-tour="book-onboarding"]',popover:{title:"Book onboarding",description:"For an in‑depth walk‑through with one of our founders, click Book onboarding to open our schedule and set a time."}}],onboarding:[{element:'[data-tour="steps"]',popover:{title:"Steps",description:"Personalize your brandVX — you can jump around anytime."}},{element:'[data-tour="connect"]',popover:{title:"Connect tools",description:"Link booking, messages, payments, and CRM. We keep it human."}},{element:'[data-tour="analyze"]',popover:{title:"Analyze",description:"Run a quick analysis to see what's configured."}},{element:'[data-tour="cta"]',popover:{title:"Ready when you are",description:"White‑glove or self-serve — you approve everything."}}],dashboard:[{popover:{title:"Welcome to brandVX",description:"Let's do a quick walk‑through of your workspace, then get you running our 3 most powerful features.",centered:!0,showButtons:["next"],nextBtnText:"Start"}},{element:'[data-tour="nav-dashboard"]',popover:{title:"Dashboard",description:"Check KPIs, quick start wins, and your 14-day plan progress."}},{element:'[data-tour="nav-askvx"]',popover:{title:"askVX",description:"Ask in your voice. We suggest safe actions; you approve everything."}},{element:'[data-tour="nav-vision"]',popover:{title:"brandVZN",description:"Upload, analyze, and refine with natural, texture-safe edits."}},{element:'[data-tour="nav-messages"]',popover:{title:"Messages",description:"Draft in one tap. Quiet hours and STOP/HELP are respected."}},{element:'[data-tour="nav-contacts"]',popover:{title:"Clients",description:"Predictive search, quick copy, and rich client context."}},{element:'[data-tour="nav-calendar"]',popover:{title:"Calendar",description:"Unified grid for Google + bookings. Mirror events instantly."}},{element:'[data-tour="nav-cadences"]',popover:{title:"Follow-ups",description:"Tomorrow, this week, re-engage in 30 days, win-back in 45 days."}},{element:'[data-tour="nav-inventory"]',popover:{title:"Inventory",description:"Sync Shopify/Square; spot low or out-of-stock products quickly."}},{element:'[data-tour="nav-approvals"]',popover:{title:"To-Do",description:"Approve drafts and actions in one place."}},{element:'[data-tour="nav-integrations"]',popover:{title:"Settings",description:"Connect Square, Acuity, Google, and more."}},{element:'[data-tour="book-onboarding"]',popover:{title:"Book Onboarding",description:"Schedule a 1-on-1 to go deeper whenever you're ready."}},{element:"#tour-billing-anchor",popover:{title:"Choose your plan",description:"Unlock the workspace with a founding plan or free trial.",centered:!0,showButtons:["previous","next"],nextBtnText:"Next",allowClicks:!0,onPopoverRender:e=>{try{const o=e?.popover||e?.wrapper;if(!o)return;const r=document.createElement("div");r.className="mt-3 grid gap-2 sm:grid-cols-3",r.innerHTML=`
          <button class="bvx-onboard-btn" data-plan="lite">$47/mo — Lite</button>
          <button class="bvx-onboard-btn" data-plan="pro">$97/mo — Pro</button>
          <button class="bvx-onboard-btn" data-plan="founder">$147/mo — Founder</button>
        `,o.appendChild(r);const n=(s,l)=>{s?.addEventListener("click",()=>{try{window.dispatchEvent(new CustomEvent("bvx:billing:checkout",{detail:{plan:l}}))}catch{}})};n(r.querySelector('[data-plan="lite"]'),"lite"),n(r.querySelector('[data-plan="pro"]'),"pro"),n(r.querySelector('[data-plan="founder"]'),"founder")}catch{}}}},{element:'[data-guide="kpis"]',popover:{title:"Your metrics at the top",description:"Review key metrics to track how brandVX is helping you grow."}},{element:'[data-guide="next-best-steps"]',popover:{title:"Next Best Steps",description:"Monitor and keep up with the next best actions to take to maximize your business.",allowClicks:!0}},{element:'[data-guide="quickstart"]',popover:{title:"Guided Walk‑through",description:"Kick off with brandVZN, import clients, or train VX so you can showcase three fast wins and learn how to use brandVX."}},{element:'[data-guide="quickstart-brandvzn"]',popover:{title:"Guided Walk‑through",description:`Let's showcase three of brandVX's most powerful features.<div class="mt-3"><button class="bvx-onboard-btn" data-open-vision>Open brandVZN</button></div>`,centered:!0,showButtons:["previous"],onPopoverRender:e=>{try{const o=()=>{try{window.dispatchEvent(new CustomEvent("bvx:guide:navigate",{detail:{pane:"vision"}}))}catch{}};(e?.popover?.querySelector?.("[data-open-vision]")||e?.wrapper?.querySelector?.("[data-open-vision]")||document.querySelector("[data-open-vision]"))?.addEventListener("click",l=>{try{l.preventDefault()}catch{}o()});const n=l=>{l.key==="ArrowRight"&&(l.stopPropagation(),l.preventDefault(),o())};document.addEventListener("keydown",n,!0),window.addEventListener("keydown",n,!0);const s=()=>{document.removeEventListener("keydown",n,!0),window.removeEventListener("keydown",n,!0)};setTimeout(()=>{try{s()}catch{}},9e3)}catch{}}}},{popover:{title:"brandVZN",description:"Let's do a quick color change so you can see how edits work. Then we'll continue the tour.",centered:!0,showButtons:["previous","next"],nextBtnText:"Next"}},{element:'[data-guide="upload"]',popover:{title:"Upload a look",description:"Pick a photo that shows the subject's face and hair, then press Upload.",allowClicks:!0,onPopoverRender:()=>{try{const e="bvx-driver-pe";if(!document.getElementById(e)){const o=document.createElement("style");o.id=e,o.textContent=".driver-overlay{ pointer-events:none !important; } .driver-stage{ pointer-events:none !important; background: transparent !important; }",document.head.appendChild(o)}}catch{}}}},{popover:{title:"Select a color",description:`What color would you like to transform their hair to? Select a color, then hit Continue.<br/><br/>
          <div class="grid gap-2">
            <button data-color="copper" class="bvx-color-btn">Copper</button>
            <button data-color="espresso" class="bvx-color-btn">Espresso Brown</button>
            <button data-color="platinum" class="bvx-color-btn">Platinum Blonde</button>
            <button data-color="rose" class="bvx-color-btn">Rose Gold</button>
            <button data-color="jet" class="bvx-color-btn">Jet Black</button>
          </div>`,showButtons:["previous","next"],onPopoverRender:e=>{const o={copper:"Change the subject's hair to a warm copper tone.",espresso:"Change the subject's hair to a rich espresso brown.",platinum:"Change the subject's hair to a bright platinum blonde.",rose:"Change the subject's hair to a shiny rose gold.",jet:"Change the subject's hair to a glossy jet black."};Array.from(e?.wrapper?.querySelectorAll?.(".bvx-color-btn")??[]).forEach(n=>{n.addEventListener("click",()=>{const s=n.dataset.color||"",l=o[s];if(l)try{window.dispatchEvent(new CustomEvent("bvx:guide:brandvzn:color",{detail:l}))}catch{}})})}}},{element:'[data-guide="edit"]',popover:{title:"Run edit",description:"Click Run Edit to apply your selected color.",allowClicks:!0}},{element:'[data-guide="preview"]',popover:{title:"Watch the transformation",description:"When the edit returns, drag the slider to view the before/after.",showButtons:["previous","next"],nextBtnText:"Continue"}},{popover:{title:"Iterate anytime",description:"Re-run Run Edit to refine the look as many times as you'd like.",showButtons:["previous","next"],nextBtnText:"Next"}},{element:'[data-guide="save"]',popover:{title:"Download originals",description:"Use Download Original + Edited to grab both versions anytime."}},{popover:{title:"Import your guests",description:`Since booking was connected during onboarding, click Import from booking to bring everyone in.<div class="mt-3 grid gap-2">
            <button class="bvx-onboard-btn" data-onboard-action="import-now">Import from booking</button>
            <button class="bvx-onboard-btn-secondary" data-onboard-action="import-skip">Skip this step</button>
          </div>
          <div class="mt-4 hidden" data-onboard-panel="lite">
            <div class="text-xs text-slate-700 mb-2">Prefer to start lighter? brandVZN Lite keeps Brand Vision + AskVX for $47/mo.</div>
            <div class="flex flex-col gap-2 items-center" data-onboard-lite-root>
              <stripe-buy-button buy-button-id="buy_btn_1S8t06KsdVcBvHY1b42SHXi9" publishable-key="pk_live_51RJwqnKsdVcBvHY1Uf3dyiHqrB3fsE35Qhgs5KfnPSJSsdalZpoJik9HYR4x6OY1ITiNJw6VJnqN9bHymiw9xE3r00WyZkg6kZ"></stripe-buy-button>
              <button class="bvx-onboard-btn" data-onboard-action="skip-continue">Continue without importing</button>
            </div>
          </div>`,showButtons:["previous","next"],nextBtnText:"Go to Clients",onPopoverRender:e=>{window.__bvxSkipImport=!1;const o=e?.wrapper;if(!o)return;const r=o.querySelector('[data-onboard-action="import-now"]'),n=o.querySelector('[data-onboard-action="import-skip"]'),s=o.querySelector('[data-onboard-panel="lite"]'),l=o.querySelector('[data-onboard-action="skip-continue"]'),d=()=>{if(window.__bvxStripeLiteLoaded)return;const u=document.createElement("script");u.src="https://js.stripe.com/v3/buy-button.js",u.async=!0,document.head.appendChild(u),window.__bvxStripeLiteLoaded=!0},b=()=>{window.removeEventListener("bvx:flow:contacts-imported",y),window.removeEventListener("bvx:onboarding:skip-import",h)},y=u=>{const g=u.detail||{};window.__bvxLastImport=g;const f=!!g?.error;window.__bvxImportFailed=f,f&&(window.__bvxSkipImport=!0),b()},h=()=>{window.__bvxSkipImport=!0,b()};window.addEventListener("bvx:flow:contacts-imported",y,{once:!0}),window.addEventListener("bvx:onboarding:skip-import",h,{once:!0}),r?.addEventListener("click",()=>{window.__bvxSkipImport=!1;try{sessionStorage.setItem("bvx_auto_import","1")}catch{}try{window.dispatchEvent(new CustomEvent("bvx:guide:navigate",{detail:{pane:"contacts"}}))}catch{}}),n?.addEventListener("click",()=>{window.__bvxSkipImport=!0,d(),s?.classList.remove("hidden")}),l?.addEventListener("click",()=>{b();try{window.dispatchEvent(new CustomEvent("bvx:onboarding:skip-import"))}catch{}try{localStorage.setItem("bvx_done_contacts","1")}catch{}try{localStorage.setItem("bvx_done_plan","1")}catch{}try{window.dispatchEvent(new CustomEvent("bvx:quickstart:update"))}catch{}try{window.dispatchEvent(new CustomEvent("bvx:guide:navigate",{detail:{pane:"askvx"}}))}catch{}const u=()=>{try{window.removeEventListener("bvx:ask:ready",u)}catch{}try{window.dispatchEvent(new CustomEvent("askvx.frontfill-strategy"))}catch{}try{const g=window.__driverDashboard,f=i=>/Send the strategy prompt/i.test(i);let x=0;const t=()=>{x++;const a=g?.getState?.()?.activeIndex??-1,c=String(g?._options?.steps?.[a]?.popover?.title||"");if(!(f(c)||x>10)){try{g.moveNext?.()}catch{}setTimeout(t,120)}};setTimeout(t,200)}catch{}};try{window.addEventListener("bvx:ask:ready",u,{once:!0})}catch{}})},onNextClick:(e,o,{driver:r})=>{try{window.dispatchEvent(new CustomEvent("bvx:guide:navigate",{detail:{pane:"contacts"}}))}catch{}try{window.dispatchEvent(new CustomEvent("bvx:dbg",{detail:{type:"nav.req",pane:"contacts"}}))}catch{}}}},{popover:{title:"Contacts",description:"We'll import your guests so AskVX can analyze recent revenue and surface top clients.",centered:!0,showButtons:["previous","next"],nextBtnText:"Next"}},{element:'[data-guide="clients-import-status"]',popover:{title:"Import status",description:"We'll show your latest import status here. If something fails you can retry or skip ahead.",showButtons:["previous","next"],nextBtnText:"Continue",onPopoverRender:e=>{window.__bvxSkipImport}}},{element:'[data-guide="clients-list"]',popover:{title:"Clients list",description:"Review synced guests, visit history, and follow-up readiness in one place.",showButtons:["previous","next"],onPopoverRender:()=>{try{window.dispatchEvent(new CustomEvent("bvx:dbg",{detail:{type:"clients.ready"}}))}catch{}}}},{element:'[data-guide="clients-actions"]',popover:{title:"Quick actions",description:"Select text or email to copy contact info and launch ready-to-edit drafts.",showButtons:["previous","next"]}},{element:'[data-guide="clients-pagination"]',popover:{title:"Navigate pages",description:"Use the arrows to move through larger client lists.",showButtons:["previous","next"]}},{element:'[data-guide="clients-export"]',popover:{title:"Export CSV",description:"Download your imported contacts anytime for offline review.",showButtons:["previous","next"]}},{element:'[data-guide="clients-refresh"]',popover:{title:"Refresh data",description:"Pull the latest booking updates whenever you reconnect providers.",showButtons:["previous","next"]}},{popover:{title:"Let's take a quick tour of AskVX",description:"We'll grab a revenue snapshot and build a strategy next.",showButtons:["previous","next"],nextBtnText:"Go to AskVX",onNextClick:(e,o,{driver:r})=>{try{window.dispatchEvent(new CustomEvent("bvx:guide:navigate",{detail:{pane:"askvx"}}))}catch{}try{window.dispatchEvent(new CustomEvent("bvx:dbg",{detail:{type:"nav.req",pane:"askvx"}}))}catch{}}}},{element:"#tour-center-anchor",popover:{title:"askVX",description:"This co-pilot keeps your revenue and strategy in one place.",centered:!0,showButtons:["previous","next"],nextBtnText:"Next"}},{element:'[data-guide="composer"]',popover:{title:"This is where you can send a prompt",description:"Enter your request or use the prefilled prompts we provide.",showButtons:["previous","next"],nextBtnText:"Next",allowClicks:!0},onEnter:()=>{try{window.dispatchEvent(new CustomEvent("bvx:ask:prefill",{detail:{kind:"insights",source:"tour",prompt:`You are AskVX, guiding a beauty professional through onboarding. Stay confident, warm, and encouraging.
Report the last ~90 days revenue, highlight their top three clients with visits and total spend, and offer one encouraging next step.
Limit to four short sections: Intro line, revenue line, three numbered client call-outs (with thank-you drafts), and a closing encouragement.
Do not ask follow-up questions; if data feels light, make a conservative estimate and note assumptions briefly.`}}))}catch{}}},{element:"#tour-welcome-anchor",popover:{title:"Next: Train VX",description:"Switch to Train & Profile to add tone notes and review your brand profile.",showButtons:["previous","next"],nextBtnText:"Open Train VX",onNextClick:(e,o,{driver:r})=>{try{window.dispatchEvent(new CustomEvent("bvx:flow:askvx-command",{detail:{action:"askvx.tab",tab:"profile"}}))}catch{}const n=Date.now(),s=()=>{try{r.moveNext?.()}catch{}},l=()=>{try{if(document.querySelector('[data-guide="trainvx-notes"]')||document.querySelector('[data-guide="trainvx-profile"]')){s();return}if(Date.now()-n>6e3){s();return}setTimeout(l,120)}catch{s()}};setTimeout(l,120)}}},{element:'[data-guide="trainvx-notes"]',popover:{title:"Add a brand fact",description:'Type a tone note or preference, then press "Save to training".',showButtons:["previous","next"],allowClicks:!0}},{element:'[data-guide="trainvx-profile"]',popover:{title:"Review your brand profile",description:"Use Edit → Save to adjust tone, story, and pricing anytime.",showButtons:["previous","next"],nextBtnText:"Next",onNextClick:(e,o,{driver:r})=>{try{window.dispatchEvent(new CustomEvent("bvx:guide:navigate",{detail:{pane:"dashboard"}}))}catch{}},allowClicks:!0}}],askvx:[{popover:{title:"askVX",description:"Your co‑pilot. Short answers, your tone, ready to act (with approval)."}},{element:'[data-guide="askvx-import-count"]',popover:{title:"Contacts snapshot",description:"Check synced totals anytime after a booking refresh."}},{element:'[data-guide="askvx-digest"]',popover:{title:"Activity digest",description:"Recent contacts, bookings, messages — summarized for you."}},{element:'[data-guide="composer"]',popover:{title:"Compose",description:"Enter to send; Shift+Enter for new line. Templates are one‑tap."}},{element:'[data-guide="smart-action"]',popover:{title:"Smart action",description:"We propose one safe next step; you can run it instantly."}},{element:'[data-guide="askvx-strategy"]',popover:{title:"Strategy export",description:"Download the Markdown plan or regenerate after new data comes in."}},{element:'[data-guide="trainvx-notes"]',popover:{title:"Train VX",description:"Save tone notes and preferences to sharpen drafts."}},{element:'[data-guide="trainvx-profile"]',popover:{title:"Brand profile",description:"Edit your voice, goals, and pricing from here."}}],vision:[{popover:{title:"Brand Vision",description:"Analyze and refine photos — fast, natural, beauty‑friendly."}},{element:'[data-guide="preview"]',popover:{title:"Preview",description:"Your working image; press/hold for before/after."}},{element:'[data-guide="upload"]',popover:{title:"Upload",description:"Pick a photo or screenshot to analyze or edit.",allowClicks:!0}},{element:'[data-guide="analyze"]',popover:{title:"Analyze",description:"GPT‑5 returns a short brief (lighting, color, texture). Use Notes to ask a specific question.",allowClicks:!0}},{element:'[data-guide="edit"]',popover:{title:"Edit",description:"Run subtle edits using the prompt to the left.",allowClicks:!0}},{element:'[data-guide="save"]',popover:{title:"Save to client",description:"Link images to a client record for before/after."}}],integrations:[{popover:{title:"Integrations",description:"Connect booking, CRM, messaging, and inventory."}},{element:'[data-guide="providers"]',popover:{title:"What each does",description:"Booking (Square/Acuity), Calendar (Google/Apple), CRM (HubSpot), Messaging (Twilio/SendGrid), Commerce (Shopify)."}},{element:'[data-guide="reanalyze"]',popover:{title:"Re‑analyze",description:"Re‑pull provider deltas and refresh KPIs after connecting or changing settings."}}],messages:[{popover:{title:"Messages",description:"Preview & copy in beta. STOP/HELP honored automatically when sending is enabled."}},{element:'[data-guide="filter"]',popover:{title:"Filter & refresh",description:"Search by contact_id and refresh the list."}},{element:'[data-guide="simulate"]',popover:{title:"Simulate",description:"Generate SMS/Email examples without sending (beta)."}},{element:'[data-guide="quiet"]',popover:{title:"Quiet hours",description:"Sends are blocked during your quiet window."}},{element:'[data-guide="send-form"]',popover:{title:"Compose",description:"Choose channel, subject (email), and body. In beta, use Copy & Mark as sent."}},{element:'[data-guide="presets"]',popover:{title:"Presets",description:"Draft quickly; you can edit before sending."}},{element:'[data-guide="table"]',popover:{title:"History",description:"Recent messages with status and timestamps."}},{popover:{title:"Beta note",description:"Sending will be enabled soon. For now, use Copy recipients + Copy message and Mark as sent."}}],cadences:[{popover:{title:"Follow‑ups",description:'Set up human‑feel follow‑ups. "Update follow‑ups" processes due steps and respects quiet hours.'}},{element:'[data-guide="kpis"]',popover:{title:"Coverage",description:"See how many contacts are in each step and what's next."}},{element:'[data-guide="send-form"]',popover:{title:"Compose & guardrails",description:"STOP/HELP, quiet hours, and approvals (if auto‑approve is off) are always respected."}},{element:'[data-guide="actions"]',popover:{title:"Start / Stop",description:"Start or stop a follow‑up anytime; some steps may queue Approvals."}}],inventory:[{popover:{title:"Inventory",description:"Sync Shopify/Square; review low/out‑of‑stock and restock fast."}},{element:'[data-guide="kpis"]',popover:{title:"Metrics",description:"Products, low/out-of-stock, and top SKU."}},{element:'[data-guide="table"]',popover:{title:"Items",description:"Low and out-of-stock items are highlighted."}},{popover:{title:"Thresholds",description:"Out=0. Low≤3 by default; you can override per item."}}],calendar:[{popover:{title:"Calendar",description:"Unified view from Google/Apple, merged with Square/Acuity bookings."}},{element:'[data-guide="filters"]',popover:{title:"Filters",description:"Toggle providers to isolate sources."}},{element:'[data-guide="list"]',popover:{title:"Events/weekly grid",description:"See upcoming events grouped by date. Use Deduplicate to remove overlaps."}}],inbox:[{popover:{title:"Inbox",description:"Master inbox — search and filter by channel and date."}},{element:'[data-guide="channels"]',popover:{title:"Channels",description:"Quickly switch Facebook, Instagram, SMS, Email, or view All."}},{element:'[data-guide="filters"]',popover:{title:"Filters",description:"Search and date filters help you narrow messages."}},{element:'[data-guide="table"]',popover:{title:"Messages",description:"Click any row to open details."}}],workflows:[{popover:{title:"WorkStyles",description:"Everything you can do in one place. Click a flow to begin."}},{element:'[data-tour="wf-quick"]',popover:{title:"Quick actions",description:"Run common steps without leaving this page."}},{element:'[data-tour="wf-dedupe"]',popover:{title:"Dedupe contacts",description:"Removes duplicates by email/phone. May require approval."}},{element:'[data-tour="wf-lowstock"]',popover:{title:"Low stock check",description:"Find items at or below threshold for restock."}},{element:'[data-tour="wf-social"]',popover:{title:"Draft 14‑day social",description:"Creates a two‑week plan; you approve before scheduling."}}],approvals:[{popover:{title:"To‑Do",description:"When brandVX needs your OK, items appear here."}},{element:'[data-guide="filters"]',popover:{title:"Filter & pending",description:"Search and toggle pending-only."}},{element:'[data-guide="table"]',popover:{title:"Items",description:"Click a row to view details."}},{element:'[data-guide="details"]',popover:{title:"Details",description:"Human-readable summary and parameters."}},{element:'[data-guide="actions"]',popover:{title:"Actions",description:"Approve or Reject. Some bulk actions are available."}}],contacts:[{popover:{title:"Contacts",description:"Bring your clients from booking or CRM; manage consent and data."}},{element:'[data-guide="import"]',popover:{title:"Import",description:"Import from booking (Square/Acuity) or sync from CRM (HubSpot)."}},{element:'[data-guide="consent"]',popover:{title:"Consent & data",description:"Send STOP or erase personal data."}},{element:'[data-guide="status"]',popover:{title:"Status",description:"See the result of recent actions."}}]};D.dashboard.push({element:"#tour-welcome-anchor",popover:{title:"",description:"",centered:!0,showButtons:["next"],onPopoverRender:(e,{driver:o})=>{try{setTimeout(()=>o.moveNext?.(),10)}catch{}}}});I.forEach((e,o)=>{D.dashboard.push({element:"#tour-welcome-anchor",popover:{title:e.title,description:e.html,centered:!0,showButtons:["previous","next"],allowClicks:!0,nextBtnText:o===I.length-1?"Finish tour":"Next",onPopoverRender:r=>{try{const n=r?.popover?.querySelector?.(".driver-popover-description");if(n&&(n.innerHTML=e.html),o===I.length-1)try{const s=r?.popover?.querySelector?.('[data-action="next"]');s&&(s.textContent="Finish tour",s.dataset.analyticsEvent="tour_founder_finish")}catch{}}catch{}},onNextClick:o===I.length-1?async(r,n,{driver:s})=>{const l=E({showErrors:!0});if(l.valid){try{await R(l.state,!0)}catch{}try{localStorage.setItem("bvx_founder_finale_seen","1")}catch{}try{localStorage.setItem("bvx_quickstart_completed","1")}catch{}try{window.dispatchEvent(new CustomEvent("bvx:quickstart:completed"))}catch{}J();try{s?.destroy?.()}catch{}}}:async(r,n,{driver:s})=>{const l=E({showErrors:!0});if(l.valid){await R(l.state);try{s?.moveNext?.()}catch{}}}}})});function $(e){return D[e]||[]}function ne(e,o){const r=$(e);if(!(!r||r.length===0)&&!(typeof window>"u"||typeof document>"u")){try{if(window.__bvxTourStarting===!0||window.__bvxTourRunning===!0)return;window.__bvxTourStarting=!0;try{document.querySelectorAll(".driver-overlay, .driver-stage, .driver-popover").forEach(n=>{try{n.parentElement?.removeChild(n)}catch{}})}catch{}}catch{}if(e==="dashboard"){try{delete window.__bvxStrategyPrefilled}catch{}try{delete window.__bvxInsightsRequested}catch{}}try{localStorage.setItem("bvx_last_tour_page",e)}catch{}try{localStorage.setItem("bvx_last_tour_step","0")}catch{}try{const n=(()=>{try{return localStorage.getItem("bvx_tenant")||""}catch{return""}})();n&&T.post("/onboarding/complete_step",{tenant_id:n,step_key:`tour.start.${e}`,context:{}})}catch{}try{V("tour_start",{page:e})}catch{}try{const n=new URL(window.location.href);n.searchParams.get("nocenter")==="1"&&localStorage.getItem("bvx_debug")!=="1"&&(n.searchParams.delete("nocenter"),window.history.replaceState({},"",n.toString()))}catch{}try{const n=document.getElementById("bvx-overlay-root")}catch{}(async()=>{try{const n=await G(()=>import("./driver-D6Mpyj2M.js"),__vite__mapDeps([0,1])),s=n?.driver||n?.default||n;if(!s)return;const l=(()=>{try{return new URLSearchParams(window.location.search).get("nocenter")==="1"||localStorage.getItem("bvx_nocenter")==="1"}catch{return!1}})(),d=s({showProgress:r.length>1,allowClose:!1,animate:!0,overlayOpacity:.55,stagePadding:8,steps:r.map((t,i)=>{const c=!!!t.element,{title:m,description:w,onPopoverRender:k,centered:S,...C}=t.popover,U=(N,q)=>{try{if((!!S||c)&&!l)try{N?.popover?.querySelector?.(".driver-popover-arrow")?.style?.setProperty("display","none")}catch{}}catch{}try{const A=typeof q?.driver?.getActiveIndex=="function"?q.driver.getActiveIndex():null;window.dispatchEvent(new CustomEvent("bvx:tour:step",{detail:{page:e,index:A,title:m}}))}catch{}try{typeof k=="function"&&k(N,q)}catch{}},B=(!!S||c)&&!l,W=document.getElementById("tour-center-anchor"),j=i;return{element:B?W||document.body:t.element||document.body,popover:{title:m,description:w,side:"bottom",align:B?"center":"start",onPopoverRender:U,...C,bvxAllowClicks:t.popover?.allowClicks===!0,bvxStepIndex:j,bvxAutoCentered:c}}})});try{const t="bvx-driver-zindex";if(!document.getElementById(t)){const a=document.createElement("style");a.id=t,a.textContent=`
            .driver-overlay {
              z-index: 2147483641 !important;
              background: transparent !important; /* keep stage fully bright */
              pointer-events: auto !important; /* ensure overlay captures clicks */
            }
            .driver-overlay + .driver-overlay { display: none !important; }
            .driver-popover { z-index: 2147483642 !important; max-width: min(560px, 90vw) !important; }
          `,document.head.appendChild(a)}const i="bvx-onboard-styles";if(!document.getElementById(i)){const a=document.createElement("style");a.id=i,a.textContent=`
            .bvx-onboard-btn {
              display: inline-flex;
              justify-content: center;
              align-items: center;
              width: 100%;
              padding: 0.55rem 0.75rem;
              border-radius: 0.75rem;
              border: 1px solid rgb(148 163 184 / 0.6);
              background: linear-gradient(180deg, rgb(219 234 254) 0%, rgb(191 219 254) 100%);
              font-size: 0.78rem;
              font-weight: 600;
              color: rgb(30 58 138);
              cursor: pointer;
            }
            .bvx-onboard-btn:hover {
              background: linear-gradient(180deg, rgb(186 230 253) 0%, rgb(147 197 253) 100%);
            }
            .bvx-onboard-btn-secondary {
              display: inline-flex;
              justify-content: center;
              align-items: center;
              width: 100%;
              padding: 0.55rem 0.75rem;
              border-radius: 0.75rem;
              border: 1px solid rgb(148 163 184 / 0.6);
              background: white;
              font-size: 0.78rem;
              font-weight: 500;
              color: rgb(71 85 105);
              cursor: pointer;
            }
            .bvx-onboard-btn-secondary:hover {
              background: rgb(248 250 252);
            }
            .bvx-color-btn {
              display: inline-flex;
              justify-content: center;
              align-items: center;
              padding: 0.45rem 0.6rem;
              border-radius: 0.65rem;
              border: 1px solid rgb(148 163 184 / 0.6);
              background: white;
              font-size: 0.75rem;
              font-weight: 500;
              color: rgb(30 41 59);
              cursor: pointer;
            }
            .bvx-color-btn:hover {
              border-color: rgb(37 99 235 / 0.45);
            }
          `,document.head.appendChild(a)}}catch{}const b=t=>{try{const i="bvx-driver-pe",a=document.getElementById(i);if(t){if(!a){const c=document.createElement("style");c.id=i,c.textContent=`
                .driver-overlay{ pointer-events: none !important; }
                .driver-stage{ pointer-events: none !important; background: transparent !important; }
              `,document.head.appendChild(c)}}else a&&a.parentElement?.removeChild(a)}catch{}},y=()=>{try{const t=d?.getState?.()?.activeIndex;typeof t=="number"&&localStorage.setItem("bvx_last_tour_step",String(t))}catch{}};d.on?.("next",y),d.on?.("previous",y);let h=null;const u=(t,i)=>{if(typeof t!="number"||t<0)return;const a=r[t];if(a)try{i==="enter"&&a.onEnter?.({driver:d,step:a,index:t}),i==="exit"&&a.onExit?.({driver:d,step:a,index:t})}catch{}},g=t=>{if(t.key==="ArrowRight"){t.preventDefault(),t.stopPropagation();try{d.moveNext?.()}catch{}}if(t.key==="ArrowLeft"){t.preventDefault(),t.stopPropagation();try{d.movePrevious?.()}catch{}}};document.addEventListener("keydown",g,!0),window.addEventListener("keydown",g,!0);const f=()=>{document.removeEventListener("keydown",g,!0),window.removeEventListener("keydown",g,!0)},x=t=>{if(!t)return;const i=String(t.title||"").toLowerCase();(i.includes("let's stay in touch")||i.includes("let's stay in touch"))&&Q()};d.on?.("highlighted",()=>{y();let t=-1;try{t=d?.getState?.()?.activeIndex??-1;const a=d?._options?.steps?.[t]?.popover||{},c=!!a?.bvxAllowClicks;b(c),x(a)}catch{}try{Array.from(document.querySelectorAll(".driver-overlay")).slice(1).forEach(a=>{try{a.parentElement?.removeChild(a)}catch{}})}catch{}try{const i=t,a=i!==h;a&&typeof h=="number"&&h>=0&&u(h,"exit"),a&&i>=0&&u(i,"enter"),a&&(h=i>=0?i:h)}catch{}});try{window.dispatchEvent(new CustomEvent("bvx:tour:started",{detail:{page:e,total:r.length}}))}catch{}if(e==="dashboard"&&d.on?.("highlighted",()=>{try{const t=d?.getState?.()?.activeIndex??-1;if(t===F)try{window.dispatchEvent(new CustomEvent("bvx:guide:dashboard:billing"))}catch{}try{const i="bvx-driver-pe",a=document.getElementById(i);if(t===F){if(!a){const c=document.createElement("style");c.id=i,c.textContent=".driver-overlay{ pointer-events: none !important; } .driver-stage{ pointer-events: none !important; }",document.head.appendChild(c)}}else a&&a.parentElement?.removeChild(a)}catch{}}catch{}}),e==="dashboard"){try{window.addEventListener("bvx:guide:navigate",t=>{try{if((t?.detail?.pane||"").toString()!=="vision")return;const a=Date.now();let c=!1;const m=()=>{if(!c){c=!0;try{window.removeEventListener("bvx:vision:ready",m)}catch{}try{d.moveNext?.()}catch{}}};window.addEventListener("bvx:vision:ready",m,{once:!0});const w=()=>{try{if(new URLSearchParams(window.location.search).get("pane")==="vision"&&document.querySelector('[data-guide="upload"]')){m();return}if(Date.now()-a>6e3)return;setTimeout(w,120)}catch{}};setTimeout(w,200)}catch{}})}catch{}try{window.addEventListener("bvx:guide:navigate",t=>{try{if((t?.detail?.pane||"").toString()!=="contacts")return;const a=Date.now();let c=!1;const m=()=>{if(!c){c=!0;try{window.removeEventListener("bvx:contacts:ready",m)}catch{}try{d.moveNext?.()}catch{}}};window.addEventListener("bvx:contacts:ready",m,{once:!0});const w=()=>{if(!c)try{if(new URLSearchParams(window.location.search).get("pane")==="contacts"&&(document.querySelector('[data-guide="clients-import-status"]')||document.querySelector('[data-guide="clients-list"]'))){m();return}if(Date.now()-a>7e3){c=!0;return}setTimeout(w,120)}catch{}};setTimeout(w,200)}catch{}})}catch{}try{window.addEventListener("bvx:guide:navigate",t=>{try{window.dispatchEvent(new CustomEvent("bvx:dbg",{detail:{type:"nav.req",pane:t?.detail?.pane}}))}catch{}}),window.addEventListener("bvx:guide:navigate:done",t=>{try{window.dispatchEvent(new CustomEvent("bvx:dbg",{detail:{type:"nav.done",pane:t?.detail?.pane}}))}catch{}})}catch{}}try{window.addEventListener("bvx:guide:navigate",t=>{try{if((t?.detail?.pane||"").toString()!=="dashboard")return;const a=Date.now(),c=()=>{try{window.removeEventListener("bvx:dashboard:ready",c)}catch{}try{d.moveNext?.()}catch{}};window.addEventListener("bvx:dashboard:ready",c,{once:!0});const m=()=>{try{if(new URLSearchParams(window.location.search).get("pane")==="dashboard"&&document.getElementById("tour-welcome-anchor")){c();return}if(Date.now()-a>6e3)return;setTimeout(m,120)}catch{}};setTimeout(m,200)}catch{}})}catch{}try{window.addEventListener("bvx:guide:navigate",t=>{try{if((t?.detail?.pane||"").toString()!=="askvx")return;const a=Date.now();let c=!1;const m=()=>{if(!c){c=!0;try{window.removeEventListener("bvx:ask:ready",m)}catch{}try{d.moveNext?.()}catch{}}};window.addEventListener("bvx:ask:ready",m,{once:!0});const w=()=>{if(!c)try{if(new URLSearchParams(window.location.search).get("pane")==="askvx"&&(document.querySelector('[data-guide="ask-input"]')||document.querySelector("input"))){m();return}if(Date.now()-a>6e3){c=!0;return}setTimeout(w,120)}catch{}};setTimeout(w,200)}catch{}})}catch{}typeof d.drive=="function"&&d.drive();try{window.__driverDashboard=d,window.__bvxTourRunning=!0,window.__bvxTourStarting=!1}catch{}d.on?.("next",async()=>{try{const i=d?.getState?.()?.activeIndex??-1,a=d?._options?.steps?.[i]?.popover||{},c=String(a?.title||"").toLowerCase();if(c.includes("let's stay in touch")||c.includes("let's stay in touch")){const{valid:m,state:w}=E({showErrors:!0});if(!m){try{d.movePrevious?.()}catch{}return}await R(w)}u(i,"enter")}catch{}}),d.on?.("previous",()=>{try{const t=d?.getState?.()?.activeIndex;u(t,"enter")}catch{}}),d.on?.("destroyed",async()=>{y();try{typeof h=="number"&&h>=0&&u(h,"exit")}catch{}try{document.body.classList.remove("bvx-center-popover-body")}catch{}try{V("tour_complete",{page:e})}catch{}if(e==="workspace_intro"){try{localStorage.setItem("bvx_tour_seen_workspace_intro","1")}catch{}try{sessionStorage.setItem("bvx_intro_session","1")}catch{}try{window.dispatchEvent(new CustomEvent("bvx:guide:workspace_intro:done"))}catch{}}if(e==="dashboard"){try{window.dispatchEvent(new CustomEvent("bvx:guide:dashboard:done"))}catch{}try{delete window.__bvxStrategyPrefilled}catch{}try{delete window.__bvxInsightsRequested}catch{}try{Y.setGuideDone(!0)}catch{}try{localStorage.setItem("bvx_quickstart_completed","1")}catch{}try{localStorage.setItem("bvx_done_contacts","1")}catch{}try{localStorage.setItem("bvx_done_plan","1")}catch{}try{localStorage.setItem("bvx_done_vision","1")}catch{}try{window.dispatchEvent(new CustomEvent("bvx:quickstart:completed"))}catch{}try{window.dispatchEvent(new CustomEvent("bvx:quickstart:update"))}catch{}try{const t=await z().catch(()=>"")||localStorage.getItem("bvx_tenant")||"";if(t){const i=Math.floor(Date.now()/1e3);await T.post("/onboarding/complete_tour",{tenant_id:t,completed_at:i})}}catch(t){console.error("tour completion persistence failed",t)}}try{window.__bvxTourRunning=!1,window.__bvxTourStarting=!1,delete window.__driverDashboard}catch{}try{document.querySelectorAll(".driver-overlay, .driver-stage, .driver-popover").forEach(t=>{try{t.parentElement?.removeChild(t)}catch{}})}catch{}f(),X()})}catch(n){console.error("startGuide error",n);try{window.__bvxTourStarting=!1}catch{}}})()}}export{ne as s,Y as w};
