import{e as f,r as l,j as e,L as b}from"./react-vendor--lxKGBiW.js";import{s as p}from"./index-Bk3Do8do.js";import{C as w}from"./CenteredCard-8vifPehV.js";import{B as x}from"./Button-DlSz7573.js";import"./radix-Dc_FVRD7.js";import"./sentry-ZUDTCraJ.js";import"./howler-DHXmObXC.js";import"./physics-DQSz9XbC.js";import"./analytics-BPch_qa6.js";import"./supabase-CZcX4Eou.js";function L(){const u=f(),[i,m]=l.useState(""),[c,h]=l.useState(""),[s,d]=l.useState(!1),g=async t=>{t.preventDefault(),d(!0);try{const{error:a}=await p.auth.signInWithPassword({email:i,password:c});if(a)throw a;try{const r=localStorage.getItem("bvx_auth_return");if(r){localStorage.removeItem("bvx_auth_return"),window.location.assign(r);return}}catch{}u("/workspace?pane=dashboard")}catch(a){alert(String(a.message||a))}finally{d(!1)}};return e.jsxs(w,{children:[e.jsx("h1",{className:"text-[40px] md:text-[56px] leading-[1.05] font-extrabold text-slate-900 text-center [text-shadow:0_1px_2px_rgba(0,0,0,0.06)]",children:"Sign in"}),e.jsx("p",{className:"text-slate-600 mt-1 text-[16px] md:text-[18px] text-center [text-shadow:0_1px_1px_rgba(0,0,0,0.04)]",children:"Welcome back."}),e.jsxs("form",{onSubmit:g,className:"mt-6 space-y-4","aria-live":"polite",role:"status",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-700 pl-[10px]",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:i,onChange:t=>m(t.target.value),autoComplete:"email",className:"mt-1 w-full h-12 md:h-14 border border-slate-300/60 rounded-xl px-3 bg-white/80 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-pink-300/60 focus:border-transparent",placeholder:"you@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-700 pl-[10px]",children:"Password"}),e.jsx("input",{type:"password",required:!0,value:c,onChange:t=>h(t.target.value),autoComplete:"current-password",className:"mt-1 w-full h-12 md:h-14 border border-slate-300/60 rounded-xl px-3 bg-white/80 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-pink-300/60 focus:border-transparent",placeholder:"••••••••"})]}),e.jsx(x,{disabled:s,"aria-label":"Sign in",className:"w-full !rounded-full !py-4 !text-[18px] md:!text-[20px]",children:s?"Signing in…":"Sign in"})]}),e.jsxs("p",{className:"text-sm text-slate-600 mt-4 pl:[10px]",children:["No account? ",e.jsx(b,{to:"/signup",className:"text-pink-600 hover:underline",children:"Create one"})]}),e.jsx("div",{className:"my-4",children:e.jsx(x,{variant:"outline",disabled:s,className:"w-full h-12 md:h-14 !rounded-xl",onClick:async()=>{try{localStorage.setItem("bvx_offer_pending","1")}catch{}try{const r=`${window.location.origin}/auth/callback?next=${encodeURIComponent("/onboarding")}&alt=${encodeURIComponent("/workspace?pane=dashboard&postVerify=1")}`,{data:o,error:n}=await p.auth.signInWithOAuth({provider:"google",options:{redirectTo:r}});if(n){alert(String(n.message||n));return}o&&o.url&&window.location.assign(o.url)}catch(t){alert(String(t?.message||t))}},children:"Continue with Google"})})]})}export{L as default};
