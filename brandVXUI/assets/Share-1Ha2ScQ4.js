import{I as o,u as x,r,j as e}from"./react-vendor--lxKGBiW.js";import{A as h}from"./index-Bk3Do8do.js";import"./radix-Dc_FVRD7.js";import"./sentry-ZUDTCraJ.js";import"./howler-DHXmObXC.js";import"./physics-DQSz9XbC.js";import"./analytics-BPch_qa6.js";import"./supabase-CZcX4Eou.js";function _(){const{token:i}=o(),l=new URLSearchParams(x().search).get("ref")||"",[s,d]=r.useState(null),[n,c]=r.useState(null);return r.useEffect(()=>{let a=!1;return(async()=>{try{const t=await fetch(`${h}/share/${i}`);if(!t.ok)throw new Error(`${t.status}`);const m=await t.json();a||d(m)}catch{a||c("not_found")}})(),()=>{a=!0}},[i]),n?e.jsxs("div",{className:"max-w-3xl mx-auto p-6 text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Link not found"}),e.jsx("p",{className:"text-slate-600 mt-2",children:"This share link may have expired or is invalid."})]}):s?e.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:s.title}),s.description&&e.jsx("p",{className:"text-slate-700 mt-2",children:s.description}),s.image_url&&e.jsx("img",{src:s.image_url,alt:"share",className:"mt-4 rounded-lg shadow"}),s.metrics&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Time Saved"}),e.jsxs("div",{className:"text-2xl font-semibold",children:[s.metrics.time_saved_hours??0,"h"]})]}),e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Minutes"}),e.jsx("div",{className:"text-2xl font-semibold",children:s.metrics.time_saved_minutes??0})]}),e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"text-sm text-slate-500",children:"Messages Sent"}),e.jsx("div",{className:"text-2xl font-semibold",children:s.metrics.messages_sent??0})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx("a",{href:`/signup${l?`?ref=${encodeURIComponent(l)}`:""}`,className:"inline-flex items-center px-4 py-2 rounded-lg bg-black text-white hover:bg-slate-800",children:"Start free trial"})})]}):e.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[e.jsx("div",{className:"h-8 w-48 bg-slate-100 rounded mb-4"}),e.jsx("div",{className:"h-5 w-96 bg-slate-100 rounded mb-2"}),e.jsx("div",{className:"h-24 w-full bg-slate-100 rounded"})]})}export{_ as default};
